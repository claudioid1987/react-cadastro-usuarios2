{"ast":null,"code":"var _jsxFileName = \"C:\\\\PROJETOS\\\\Nova pasta (5)\\\\react-cadastro-usuarios\\\\frontend\\\\src\\\\components\\\\user\\\\UserCrud.jsx\";\nimport React, { Component } from 'react';\nimport axios from 'axios';\nimport Main from '../template/Main';\nconst headerProps = {\n  icon: 'users',\n  title: 'fornecedores',\n  subtitle: 'Tela de gerenciamento de fornecedores'\n};\nconst baseUrl = 'http://localhost:3001/users';\nconst initialState = {\n  user: {\n    name: '',\n    email: ''\n  },\n  list: []\n};\nexport default class UserCrud extends Component {\n  constructor() {\n    super(...arguments);\n    this.state = { ...initialState\n    };\n  }\n\n  componentWillMount() {\n    axios(baseUrl).then(resp => {\n      console.log(resp);\n      this.setState({\n        list: resp.data\n      });\n    });\n  }\n\n  clear() {\n    this.setState({\n      user: initialState.user\n    });\n  }\n\n  save() {\n    const user = this.state.user;\n    const method = user.id ? 'put' : 'post';\n    const url = user.id ? `${baseUrl}/${user.id}` : baseUrl;\n    axios[method](url, user).then(resp => {\n      const list = this.getUpdatedList(resp.data);\n      this.setState({\n        user: initialState.user,\n        list\n      });\n    });\n  }\n\n  getUpdatedList(user) {\n    let add = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : true;\n    const list = this.state.list.filter(u => u.id !== user.id);\n    if (add) list.unshift(user);\n    return list;\n  }\n\n  updateField(event) {\n    const user = { ...this.state.user\n    };\n    user[event.target.name] = event.target.value;\n    this.setState({\n      user\n    });\n  }\n\n  renderForm() {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"form\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 60,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"row\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 61,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-xs-12 col-sm-9 col-md-6\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 63,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"form-group\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 64,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 65,\n        columnNumber: 15\n      }\n    }, \"Nome Fantasia\"), /*#__PURE__*/React.createElement(\"input\", {\n      type: \"text\",\n      className: \"form-control\",\n      name: \"name\",\n      value: this.state.user.name,\n      onChange: e => this.updateField(e),\n      placeholder: \"Digite o nome fantasia\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 66,\n        columnNumber: 15\n      }\n    }))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-xs-12 col-sm-9 col-md-6\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 75,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"form-group\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 76,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 77,\n        columnNumber: 15\n      }\n    }, \"Raz\\xE3o Social\"), /*#__PURE__*/React.createElement(\"input\", {\n      type: \"text\",\n      className: \"form-control\",\n      name: \"corporate_name\",\n      value: this.state.user.corporate_name,\n      onChange: e => this.updateField(e),\n      placeholder: \"Digite a raz\\xE3o social\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 78,\n        columnNumber: 15\n      }\n    }))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-xs-12 col-sm-9 col-md-6\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 87,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"form-group\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 88,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 89,\n        columnNumber: 15\n      }\n    }, \"Respons\\xE1vel Legal\"), /*#__PURE__*/React.createElement(\"input\", {\n      type: \"text\",\n      className: \"form-control\",\n      name: \"legal_responsible\",\n      value: this.state.user.legal_responsible,\n      onChange: e => this.updateField(e),\n      placeholder: \"Digite o nome do respons\\xE1vel legal\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 90,\n        columnNumber: 15\n      }\n    }))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-xs-12 col-sm-9 col-md-6\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 100,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"form-group\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 101,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 102,\n        columnNumber: 15\n      }\n    }, \"CNPJ\"), /*#__PURE__*/React.createElement(\"input\", {\n      type: \"number\",\n      className: \"form-control\",\n      name: \"cnpj\",\n      value: this.state.cnpj,\n      onChange: e => this.updateField(e),\n      placeholder: \"Digite os n\\xFAmeros do CNPJ\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 103,\n        columnNumber: 15\n      }\n    }))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-xs-12 col-sm-9 col-md-6\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 112,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"form-group\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 113,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 114,\n        columnNumber: 15\n      }\n    }, \"Segmento da empresa\"), /*#__PURE__*/React.createElement(\"input\", {\n      type: \"text\",\n      className: \"form-control\",\n      name: \"company_segment\",\n      value: this.state.user.company_segment,\n      onChange: e => this.updateField(e),\n      placeholder: \"Digite o segmento da empresa\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 115,\n        columnNumber: 15\n      }\n    }))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-xs-12 col-sm-9 col-md-6\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 124,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"form-group\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 125,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 126,\n        columnNumber: 15\n      }\n    }, \"Endere\\xE7o\"), /*#__PURE__*/React.createElement(\"input\", {\n      type: \"text\",\n      className: \"form-control\",\n      name: \"address\",\n      value: this.state.user.address,\n      onChange: e => this.updateField(e),\n      placeholder: \"Digite o endere\\xE7o completo\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 127,\n        columnNumber: 15\n      }\n    }))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-xs-12 col-sm-9 col-md-6\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 138,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"form-group\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 139,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 140,\n        columnNumber: 15\n      }\n    }, \" Telefone para contato\"), /*#__PURE__*/React.createElement(\"input\", {\n      type: \"number\",\n      className: \"form-control\",\n      name: \"telefone\",\n      value: this.state.user.telefone,\n      onChange: e => this.updateField(e),\n      placeholder: \"Digite o telefone\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 141,\n        columnNumber: 15\n      }\n    }))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-xs-12 col-sm-9 col-md-6\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 151,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"form-group\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 152,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 153,\n        columnNumber: 15\n      }\n    }, \"E-mail\"), /*#__PURE__*/React.createElement(\"input\", {\n      type: \"text\",\n      className: \"form-control\",\n      name: \"email\",\n      value: this.state.user.email,\n      onChange: e => this.updateField(e),\n      placeholder: \"Digite o e-mail...\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 154,\n        columnNumber: 15\n      }\n    })))), /*#__PURE__*/React.createElement(\"hr\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 165,\n        columnNumber: 9\n      }\n    }), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"row\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 167,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-12 d-flex justify-content-end\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 168,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"button\", {\n      className: \"btn btn-primary\",\n      onClick: e => this.save(e),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 169,\n        columnNumber: 13\n      }\n    }, \"Arquivar\"), /*#__PURE__*/React.createElement(\"button\", {\n      className: \"btn btn-secondary ml-2\",\n      onClick: e => this.save(e),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 174,\n        columnNumber: 13\n      }\n    }, \"Cancelar\"))));\n  }\n\n  load(user) {\n    this.setState({\n      user\n    });\n  }\n\n  remove(user) {\n    axios.delete(`${baseUrl}/${user.id}`).then(resp => {\n      const list = this.getUpdatedList(user, false);\n      this.setState({\n        list\n      });\n    });\n  }\n\n  renderTable() {\n    return /*#__PURE__*/React.createElement(\"table\", {\n      className: \"table mt-4\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 198,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(\"thead\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 199,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"tr\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 200,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"th\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 201,\n        columnNumber: 13\n      }\n    }, \"ID\"), /*#__PURE__*/React.createElement(\"th\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 202,\n        columnNumber: 13\n      }\n    }, \"Nome fantasia\"), /*#__PURE__*/React.createElement(\"th\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 203,\n        columnNumber: 13\n      }\n    }, \"Raz\\xE3o social\"), /*#__PURE__*/React.createElement(\"th\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 204,\n        columnNumber: 13\n      }\n    }, \"Respons\\xE1vel Legal\"), /*#__PURE__*/React.createElement(\"th\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 205,\n        columnNumber: 13\n      }\n    }, \"CNPJ\"), /*#__PURE__*/React.createElement(\"th\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 206,\n        columnNumber: 13\n      }\n    }, \"Segmento\"), /*#__PURE__*/React.createElement(\"th\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 207,\n        columnNumber: 13\n      }\n    }, \"Endere\\xE7o\"), /*#__PURE__*/React.createElement(\"th\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 208,\n        columnNumber: 13\n      }\n    }, \"Telefone\"), /*#__PURE__*/React.createElement(\"th\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 209,\n        columnNumber: 13\n      }\n    }, \"E-mail\"))), /*#__PURE__*/React.createElement(\"tbody\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 213,\n        columnNumber: 9\n      }\n    }, this.renderRows()));\n  }\n\n  renderRows() {\n    return this.state.list.map(user => {\n      return /*#__PURE__*/React.createElement(\"tr\", {\n        key: user.id,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 224,\n          columnNumber: 9\n        }\n      }, /*#__PURE__*/React.createElement(\"td\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 225,\n          columnNumber: 11\n        }\n      }, user.id), /*#__PURE__*/React.createElement(\"td\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 226,\n          columnNumber: 11\n        }\n      }, user.name), /*#__PURE__*/React.createElement(\"td\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 227,\n          columnNumber: 11\n        }\n      }, user.corporate_name), /*#__PURE__*/React.createElement(\"td\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 228,\n          columnNumber: 11\n        }\n      }, user.legal_responsible), /*#__PURE__*/React.createElement(\"td\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 229,\n          columnNumber: 11\n        }\n      }, user.cnpj), /*#__PURE__*/React.createElement(\"td\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 230,\n          columnNumber: 11\n        }\n      }, user.company_segment), /*#__PURE__*/React.createElement(\"td\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 231,\n          columnNumber: 11\n        }\n      }, user.email), /*#__PURE__*/React.createElement(\"td\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 234,\n          columnNumber: 21\n        }\n      }, /*#__PURE__*/React.createElement(\"button\", {\n        className: \"btn btn-warning\",\n        onClick: () => this.load(user),\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 235,\n          columnNumber: 13\n        }\n      }, /*#__PURE__*/React.createElement(\"i\", {\n        className: \"fa fa-pencil\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 237,\n          columnNumber: 15\n        }\n      })), /*#__PURE__*/React.createElement(\"button\", {\n        className: \"btn btn-danger ml-2\",\n        onClick: () => this.remove(user),\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 240,\n          columnNumber: 13\n        }\n      }, /*#__PURE__*/React.createElement(\"i\", {\n        className: \"fa fa-trash\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 242,\n          columnNumber: 15\n        }\n      }))));\n    });\n  }\n\n  render() {\n    console.log(this.state.list);\n    return /*#__PURE__*/React.createElement(Main, Object.assign({}, headerProps, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 252,\n        columnNumber: 7\n      }\n    }), this.renderForm(), this.renderTable());\n  }\n\n}","map":{"version":3,"sources":["C:/PROJETOS/Nova pasta (5)/react-cadastro-usuarios/frontend/src/components/user/UserCrud.jsx"],"names":["React","Component","axios","Main","headerProps","icon","title","subtitle","baseUrl","initialState","user","name","email","list","UserCrud","state","componentWillMount","then","resp","console","log","setState","data","clear","save","method","id","url","getUpdatedList","add","filter","u","unshift","updateField","event","target","value","renderForm","e","corporate_name","legal_responsible","cnpj","company_segment","address","telefone","load","remove","delete","renderTable","renderRows","map","render"],"mappings":"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","sourcesContent":["import React, { Component } from 'react'\r\nimport axios from 'axios'\r\nimport Main from '../template/Main'\r\n\r\nconst headerProps = {\r\n  icon: 'users',\r\n  title: 'fornecedores',\r\n  subtitle: 'Tela de gerenciamento de fornecedores'\r\n}\r\n\r\nconst baseUrl = 'http://localhost:3001/users'\r\nconst initialState = {\r\n  user: { name: '', email: '', },\r\n\r\n  list: []\r\n}\r\n\r\n\r\nexport default class UserCrud extends Component {\r\n\r\n  state = { ...initialState }\r\n\r\n  componentWillMount() {\r\n    axios(baseUrl).then(resp => {\r\n      console.log(resp);\r\n\r\n      this.setState({ list: resp.data })\r\n    })\r\n  }\r\n\r\n  clear() {\r\n    this.setState({ user: initialState.user })\r\n  }\r\n\r\n  save() {\r\n    const user = this.state.user\r\n    const method = user.id ? 'put' : 'post'\r\n    const url = user.id ? `${baseUrl}/${user.id}` : baseUrl\r\n    axios[method](url, user)\r\n      .then(resp => {\r\n        const list = this.getUpdatedList(resp.data)\r\n        this.setState({ user: initialState.user, list })\r\n      })\r\n  }\r\n\r\n  getUpdatedList(user, add = true) {\r\n    const list = this.state.list.filter(u => u.id !== user.id)\r\n    if (add) list.unshift(user)\r\n    return list\r\n  }\r\n\r\n  updateField(event) {\r\n    const user = { ...this.state.user }\r\n    user[event.target.name] = event.target.value\r\n    this.setState({ user })\r\n  }\r\n\r\n  renderForm() {\r\n    return (\r\n      <div className=\"form\">\r\n        <div className=\"row\">\r\n          \r\n          <div className=\"col-xs-12 col-sm-9 col-md-6\">\r\n            <div className=\"form-group\">            \r\n              <label>Nome Fantasia</label>\r\n              <input type=\"text\" className=\"form-control\"\r\n                name=\"name\"\r\n                value={this.state.user.name}\r\n                onChange={e => this.updateField(e)}\r\n                placeholder=\"Digite o nome fantasia\"\r\n              />\r\n            </div>\r\n          </div>\r\n          \r\n        <div className=\"col-xs-12 col-sm-9 col-md-6\">\r\n            <div className=\"form-group\">            \r\n              <label>Razão Social</label>\r\n              <input type=\"text\" className=\"form-control\"\r\n                name=\"corporate_name\"\r\n                value={this.state.user.corporate_name}\r\n                onChange={e => this.updateField(e)}\r\n                placeholder=\"Digite a razão social\"\r\n              />\r\n            </div>\r\n          </div>\r\n\r\n          <div className=\"col-xs-12 col-sm-9 col-md-6\">\r\n            <div className=\"form-group\">            \r\n              <label>Responsável Legal</label>\r\n              <input type=\"text\" className=\"form-control\"\r\n                name=\"legal_responsible\"\r\n                value={this.state.user.legal_responsible}\r\n                onChange={e => this.updateField(e)}\r\n                placeholder=\"Digite o nome do responsável legal\"\r\n              />\r\n            </div>\r\n          </div>\r\n\r\n\r\n          <div className=\"col-xs-12 col-sm-9 col-md-6\">\r\n            <div className=\"form-group\">            \r\n              <label>CNPJ</label>\r\n              <input type=\"number\" className=\"form-control\"\r\n                name=\"cnpj\"\r\n                value={this.state.cnpj}\r\n                onChange={e => this.updateField(e)}\r\n                placeholder=\"Digite os números do CNPJ\"\r\n              />\r\n            </div>\r\n          </div>\r\n\r\n          <div className=\"col-xs-12 col-sm-9 col-md-6\">\r\n            <div className=\"form-group\">            \r\n              <label>Segmento da empresa</label>\r\n              <input type=\"text\" className=\"form-control\"\r\n                name=\"company_segment\"\r\n                value={this.state.user.company_segment}\r\n                onChange={e => this.updateField(e)}\r\n                placeholder=\"Digite o segmento da empresa\"\r\n              />\r\n            </div>\r\n          </div>\r\n\r\n          <div className=\"col-xs-12 col-sm-9 col-md-6\">\r\n            <div className=\"form-group\">            \r\n              <label>Endereço</label>\r\n              <input type=\"text\" className=\"form-control\"\r\n                name=\"address\"\r\n                value={this.state.user.address}\r\n                onChange={e => this.updateField(e)}\r\n                placeholder=\"Digite o endereço completo\"\r\n              />\r\n            </div>\r\n          </div>\r\n\r\n          \r\n\r\n          <div className=\"col-xs-12 col-sm-9 col-md-6\">\r\n            <div className=\"form-group\">            \r\n              <label> Telefone para contato</label>\r\n              <input type=\"number\" className=\"form-control\"\r\n                name=\"telefone\"\r\n                value={this.state.user.telefone}\r\n                onChange={e => this.updateField(e)}\r\n                placeholder=\"Digite o telefone\"\r\n              />\r\n            </div>\r\n          </div>\r\n\r\n\r\n          <div className=\"col-xs-12 col-sm-9 col-md-6\">\r\n            <div className=\"form-group\">\r\n              <label>E-mail</label>\r\n              <input type=\"text\" className=\"form-control\"\r\n                name=\"email\"\r\n                value={this.state.user.email}\r\n                onChange={e => this.updateField(e)}\r\n                placeholder=\"Digite o e-mail...\"\r\n              />\r\n            </div>\r\n          </div>\r\n\r\n        </div>\r\n\r\n        <hr />\r\n\r\n        <div className=\"row\">\r\n          <div className=\"col-12 d-flex justify-content-end\">\r\n            <button className=\"btn btn-primary\"\r\n              onClick={e => this.save(e)}\r\n            >\r\n              Arquivar\r\n            </button>\r\n            <button className=\"btn btn-secondary ml-2\"\r\n              onClick={e => this.save(e)}\r\n            >\r\n              Cancelar\r\n            </button>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    )\r\n  }\r\n\r\n  load(user) {\r\n    this.setState({ user })\r\n  }\r\n\r\n  remove(user) {\r\n    axios.delete(`${baseUrl}/${user.id}`).then(resp => {\r\n      const list = this.getUpdatedList(user, false)\r\n      this.setState({ list })\r\n    })\r\n  }\r\n\r\n  renderTable() {\r\n    return (\r\n      <table className=\"table mt-4\">\r\n        <thead>\r\n          <tr>\r\n            <th>ID</th>\r\n            <th>Nome fantasia</th>\r\n            <th>Razão social</th>\r\n            <th>Responsável Legal</th>\r\n            <th>CNPJ</th>\r\n            <th>Segmento</th>\r\n            <th>Endereço</th>\r\n            <th>Telefone</th>\r\n            <th>E-mail</th>            \r\n            </tr>\r\n          \r\n        </thead>\r\n        <tbody>\r\n          {this.renderRows()}\r\n        </tbody>\r\n      </table>\r\n    )\r\n  }\r\n\r\n\r\n  renderRows() {\r\n    return this.state.list.map(user => {\r\n      return (\r\n        <tr key={user.id}>\r\n          <td>{user.id}</td>\r\n          <td>{user.name}</td>\r\n          <td>{user.corporate_name}</td> \r\n          <td>{user.legal_responsible}</td>\r\n          <td>{user.cnpj}</td>\r\n          <td>{user.company_segment}</td>\r\n          <td>{user.email}</td>\r\n\r\n\r\n                    <td>\r\n            <button className=\"btn btn-warning\"\r\n              onClick={() => this.load(user)}>\r\n              <i className=\"fa fa-pencil\"></i>\r\n            </button>\r\n            \r\n            <button className=\"btn btn-danger ml-2\"\r\n              onClick={() => this.remove(user)}>\r\n              <i className=\"fa fa-trash\"></i>\r\n            </button>\r\n          </td>\r\n        </tr>\r\n      )\r\n    })\r\n  }\r\n  render() {\r\n    console.log(this.state.list);\r\n    return (\r\n      <Main {...headerProps}>\r\n        {this.renderForm()}\r\n        {this.renderTable()}\r\n      </Main>\r\n    )\r\n  }\r\n}\r\n"]},"metadata":{},"sourceType":"module"}